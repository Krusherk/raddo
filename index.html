<!DOCTYPE html>
<html>

<head>
    <title>Test Connect</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ethers/6.9.0/ethers.umd.min.js"></script>
    <style>
        body {
            font-family: Arial;
            padding: 20px;
            background: #1a1a1a;
            color: white;
        }

        button {
            padding: 15px 30px;
            font-size: 18px;
            cursor: pointer;
            background: #00d4aa;
            border: none;
            border-radius: 8px;
        }

        button:hover {
            background: #00a88a;
        }

        #status {
            margin-top: 20px;
            padding: 10px;
            background: #333;
            border-radius: 5px;
        }
    </style>
</head>

<body>
    <h1>TAKKOFUN - Test Page</h1>
    <p>This is a minimal test to check if wallet connection works.</p>

    <button id="testConnectBtn">Connect Wallet</button>

    <div id="status">Status: Not connected</div>

    <script>
        console.log('Script loaded');

        var btn = document.getElementById('testConnectBtn');
        var status = document.getElementById('status');

        console.log('Button found:', btn);

        btn.onclick = async function () {
            console.log('Button clicked!');
            status.textContent = 'Status: Connecting...';

            if (typeof window.ethereum === 'undefined') {
                status.textContent = 'Status: MetaMask not installed!';
                alert('Please install MetaMask!');
                return;
            }

            try {
                console.log('Requesting accounts...');
                var accounts = await window.ethereum.request({ method: 'eth_requestAccounts' });
                console.log('Accounts:', accounts);

                status.textContent = 'Status: Connected! Address: ' + accounts[0];

            } catch (err) {
                console.error('Error:', err);
                status.textContent = 'Status: Error - ' + err.message;
            }
        };

        console.log('Event listener attached');
    </script>
</body>

</html>
